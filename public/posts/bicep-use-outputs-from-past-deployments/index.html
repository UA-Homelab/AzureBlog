<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Use outputs from past deployments with Bicep | Azure - In Real Life</title>
<meta name="keywords" content="Bicep, Infrastructure as Code, ARM">
<meta name="description" content="
  Disclaimer: This is NOT about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments.

Table of Contents

Why I wrote this
Why is this usefull?
How to use past deployment outputs
Example

Create the log analytics workspace
Use the deployments output as policy assignment parameters


Conclusion

Why I wrote this
I wanted to know if I can use the output of past Bicep deployments with new templates but couldn&rsquo;t find any information about this, as most results only talked about using module outputs.">
<meta name="author" content="">
<link rel="canonical" href="https://azureblog.urdl.me/posts/bicep-use-outputs-from-past-deployments/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css" integrity="sha256-IhHKMWS&#43;eDACT2qtKzouUghDpk&#43;PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://azureblog.urdl.me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://azureblog.urdl.me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://azureblog.urdl.me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://azureblog.urdl.me/apple-touch-icon.png">
<link rel="mask-icon" href="https://azureblog.urdl.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://azureblog.urdl.me/posts/bicep-use-outputs-from-past-deployments/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://azureblog.urdl.me/posts/bicep-use-outputs-from-past-deployments/">
  <meta property="og:site_name" content="Azure - In Real Life">
  <meta property="og:title" content="Use outputs from past deployments with Bicep">
  <meta property="og:description" content=" Disclaimer: This is NOT about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments. Table of Contents Why I wrote this Why is this usefull? How to use past deployment outputs Example Create the log analytics workspace Use the deployments output as policy assignment parameters Conclusion Why I wrote this I wanted to know if I can use the output of past Bicep deployments with new templates but couldn’t find any information about this, as most results only talked about using module outputs.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-12-16T11:22:53+02:00">
    <meta property="article:modified_time" content="2025-12-16T11:22:53+02:00">
    <meta property="article:tag" content="Bicep">
    <meta property="article:tag" content="Infrastructure as Code">
    <meta property="article:tag" content="ARM">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Use outputs from past deployments with Bicep">
<meta name="twitter:description" content="
  Disclaimer: This is NOT about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments.

Table of Contents

Why I wrote this
Why is this usefull?
How to use past deployment outputs
Example

Create the log analytics workspace
Use the deployments output as policy assignment parameters


Conclusion

Why I wrote this
I wanted to know if I can use the output of past Bicep deployments with new templates but couldn&rsquo;t find any information about this, as most results only talked about using module outputs.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://azureblog.urdl.me/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Use outputs from past deployments with Bicep",
      "item": "https://azureblog.urdl.me/posts/bicep-use-outputs-from-past-deployments/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Use outputs from past deployments with Bicep",
  "name": "Use outputs from past deployments with Bicep",
  "description": " Disclaimer: This is NOT about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments. Table of Contents Why I wrote this Why is this usefull? How to use past deployment outputs Example Create the log analytics workspace Use the deployments output as policy assignment parameters Conclusion Why I wrote this I wanted to know if I can use the output of past Bicep deployments with new templates but couldn\u0026rsquo;t find any information about this, as most results only talked about using module outputs.\n",
  "keywords": [
    "Bicep", "Infrastructure as Code", "ARM"
  ],
  "articleBody": " Disclaimer: This is NOT about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments. Table of Contents Why I wrote this Why is this usefull? How to use past deployment outputs Example Create the log analytics workspace Use the deployments output as policy assignment parameters Conclusion Why I wrote this I wanted to know if I can use the output of past Bicep deployments with new templates but couldn’t find any information about this, as most results only talked about using module outputs.\nThis was actually the reason I decided to create this blog. I am hoping this will, at some point, help someone in the same situation.\nWhy is this usefull? You can reference all outputs from your past deployments by only knowing the deployment and output name.\nIn my role, I regularly deploy landing zones and workloads for a variety of customers, each with their own unique requirements. To streamline this process, I’ve developed templates for the platform landing zones like connectivity, management, identity and governance (management groups, policies and rbac). Some of the platform resources provisioned are later referenced in policies or other platform components. Example: A policy to send logs to a log analytics workspace in the management subscription will need the workspace as a parameter.\nTo maximize flexibility — especially since different customer teams often handle different parts of the landing zone — I maintain separate templates for each platform area, as well as for the governance elements. However, this approach introduces a challenge: resource names and configurations can and will vary from customer to customer, which would normally mean updating parameters across every template and increase human errors.\nBy using outputs from previous deployments, I can keep each deployment fully independent while only needing to adjust parameters for the templates that actually create the platform resources. This not only simplifies the process but also makes it easier to manage variations between customers without sacrificing modularity or maintainability.\nHow to use past deployment outputs After some frustrating time searching for a solution, I was thinking that probably the deployments (that you can see on subscripions and resource groups) are also just ARM-Resources and therefore it should be possible to define them as existing resources in templates.\nIt turns out that this was the solution! You can just add deployments as existing resources to your bicep file and then access all output values, that have been defined. Here are some examples:\nUse a deployment from the same subscription you’re deploying to: param deploymentName string = '' resource deployment string 'Microsoft.Resources/deployments@2025-04-01' existing = { name: deploymentName } Use a deployment from another subscripion: param deploymentName string = '' param subscriptionId string = '",
  "wordCount" : "1040",
  "inLanguage": "en",
  "datePublished": "2025-12-16T11:22:53+02:00",
  "dateModified": "2025-12-16T11:22:53+02:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://azureblog.urdl.me/posts/bicep-use-outputs-from-past-deployments/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Azure - In Real Life",
    "logo": {
      "@type": "ImageObject",
      "url": "https://azureblog.urdl.me/favicon.ico"
    }
  }
}
</script>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">


   <link rel="stylesheet" href="/css/copyCodeButton.css">

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://azureblog.urdl.me/" accesskey="h" title="Azure - In Real Life (Alt + H)">Azure - In Real Life</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://azureblog.urdl.me/about-me/" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
            <li>
                <a href="https://azureblog.urdl.me/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://azureblog.urdl.me/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://azureblog.urdl.me/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://azureblog.urdl.me/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Use outputs from past deployments with Bicep
    </h1>
    <div class="post-meta"><span title='2025-12-16 11:22:53 +0200 +0200'>December 16, 2025</span>

</div>
  </header> 
  <div class="post-content"><div style="color: #5e5b5bff; border-left: 4px solid #f39c12; background: #fffbe6; padding: 16px; margin: 16px 0; border-radius: 4px;">
  <strong>Disclaimer:</strong> This is <b>NOT</b> about using output from Bicep modules with other modules, but about using the output from Bicep deployments with other, completely different Bicep deployments.
</div>
<h2 id="table-of-contents">Table of Contents<a hidden class="anchor" aria-hidden="true" href="#table-of-contents">#</a></h2>
<ul>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#why-i-wrote-this">Why I wrote this</a></li>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#why-is-this-usefull">Why is this usefull?</a></li>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#how-to-use-past-deployment-outputs">How to use past deployment outputs</a></li>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#example">Example</a>
<ul>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#create-the-log-analytics-workspace">Create the log analytics workspace</a></li>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#use-the-deployments-output-as-policy-assignment-parameters">Use the deployments output as policy assignment parameters</a></li>
</ul>
</li>
<li><a href="/posts/bicep-use-outputs-from-past-deployments/#conclusion">Conclusion</a></li>
</ul>
<h2 id="why-i-wrote-this">Why I wrote this<a hidden class="anchor" aria-hidden="true" href="#why-i-wrote-this">#</a></h2>
<p>I wanted to know if I can use the output of past Bicep deployments with new templates but couldn&rsquo;t find any information about this, as most results only talked about using module outputs.</p>
<p>This was actually the reason I decided to create this blog. I am hoping this will, at some point, help someone in the same situation.</p>
<h2 id="why-is-this-usefull">Why is this usefull?<a hidden class="anchor" aria-hidden="true" href="#why-is-this-usefull">#</a></h2>
<p>You can reference all outputs from your past deployments by only knowing the deployment and output name.</p>
<p>In my role, I regularly deploy landing zones and workloads for a variety of customers, each with their own unique requirements. To streamline this process, I’ve developed templates for the platform landing zones like connectivity, management, identity and governance (management groups, policies and rbac). Some of the platform resources provisioned are later referenced in policies or other platform components. Example: A policy to send logs to a log analytics workspace in the management subscription will need the workspace as a parameter.</p>
<p>To maximize flexibility — especially since different customer teams often handle different parts of the landing zone — I maintain separate templates for each platform area, as well as for the governance elements. However, this approach introduces a challenge: resource names and configurations can and will vary from customer to customer, which would normally mean updating parameters across every template and increase human errors.</p>
<p>By using outputs from previous deployments, I can keep each deployment fully independent while only needing to adjust parameters for the templates that actually create the platform resources. This not only simplifies the process but also makes it easier to manage variations between customers without sacrificing modularity or maintainability.</p>
<h2 id="how-to-use-past-deployment-outputs">How to use past deployment outputs<a hidden class="anchor" aria-hidden="true" href="#how-to-use-past-deployment-outputs">#</a></h2>
<p>After some frustrating time searching for a solution, I was thinking that probably the deployments (that you can see on subscripions and resource groups) are also just ARM-Resources and therefore it should be possible to define them as existing resources in templates.</p>
<p>It turns out that this was the solution! You can just add deployments as existing resources to your bicep file and then access all output values, that have been defined. Here are some examples:</p>
<ul>
<li>Use a deployment from the same subscription you&rsquo;re deploying to:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">param</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_deployment_name&gt;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">deployment</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/deployments@2025-04-01&#39;</span><span class="w"> </span><span class="kd">existing</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
<li>Use a deployment from another subscripion:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">param</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_deployment_name&gt;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">subscriptionId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_subscription_id&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">deployment</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/deployments@2025-04-01&#39;</span><span class="w"> </span><span class="kd">existing</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nf">subscription</span><span class="p">(</span><span class="nv">subscriptionId</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
<li>Use a deployment from a resource group in the same subscription your&rsquo;re deploying to:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">param</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_deployment_name&gt;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_resource_group_name&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">deployment</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/deployments@2025-04-01&#39;</span><span class="w"> </span><span class="kd">existing</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nf">resourceGroup</span><span class="p">(</span><span class="nv">resourceGroupName</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
<li>Use a deployment from a resource group in a different subscription:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">param</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_deployment_name&gt;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">subscriptionId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_subscription_id&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;&lt;insert_resource_group_name&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">deployment</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/deployments@2025-04-01&#39;</span><span class="w"> </span><span class="kd">existing</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nf">resourceGroup</span><span class="p">(</span><span class="nv">subscriptionId</span><span class="p">,</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">deploymentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
<br>
After declaring the existing deployment like that, you can access the outputs as follows:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">var</span><span class="w"> </span><span class="nv">deploymentOutput</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">deployment</span><span class="p">.</span><span class="nv">properties</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="o">&lt;</span><span class="nv">outputName</span><span class="o">&gt;</span><span class="p">.</span><span class="nv">value</span><span class="w">
</span></span></span></code></pre></div><h2 id="example">Example<a hidden class="anchor" aria-hidden="true" href="#example">#</a></h2>
<p>As an example I wrote a bicep template that creates a log analytics workspace. Another template uses the output of this deployment to assign a policy that sends the subscriptions activity logs to to this workspace.</p>
<p>The files can be found on my <a href="https://github.com/UA-Homelab/blogpost-code-examples/tree/main/01_bicep_use_outputs_of_past_deployments">GitHub</a></p>
<h3 id="create-the-log-analytics-workspace">Create the log analytics workspace<a hidden class="anchor" aria-hidden="true" href="#create-the-log-analytics-workspace">#</a></h3>
<p>This is very straight forward. I used Azure Verified Modules (AVM) to create a log analytics workspace. The important part here is to define the outputs, that you want to use later, in the main.bicep.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">targetScope</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;subscription&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">applicationName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Monitor&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="nv">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">@</span><span class="nf">allowed</span><span class="p">([</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Prod&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Test&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Dev&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;QA&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Sandbox&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Staging&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="s">&#39;Demo&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">])</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">environment</span><span class="w"> </span><span class="nv">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;001&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceSkuName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;PerGB2018&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">resourceNameSuffix</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">toLower</span><span class="p">(</span><span class="s">&#39;</span><span class="si">${</span><span class="nf">replace</span><span class="p">(</span><span class="nv">applicationName</span><span class="p">,</span><span class="w"> </span><span class="s">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="si">}</span><span class="s">-</span><span class="si">${</span><span class="nv">environment</span><span class="si">}</span><span class="s">-</span><span class="si">${</span><span class="nv">location</span><span class="si">}</span><span class="s">-</span><span class="si">${</span><span class="nv">index</span><span class="si">}</span><span class="s">&#39;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;law-</span><span class="si">${</span><span class="nv">resourceNameSuffix</span><span class="si">}</span><span class="s">&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;rg-</span><span class="si">${</span><span class="nv">resourceNameSuffix</span><span class="si">}</span><span class="s">&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">tags</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">Application</span><span class="p">:</span><span class="w"> </span><span class="nv">applicationName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">Environment</span><span class="p">:</span><span class="w"> </span><span class="nv">environment</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">templateSource</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;azureblog.urdl.me&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">resourceGroup</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/resourceGroups@2021-04-01&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">location</span><span class="p">:</span><span class="w"> </span><span class="nv">location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">tags</span><span class="p">:</span><span class="w"> </span><span class="nv">tags</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">module</span><span class="w"> </span><span class="nv">logAnalyticsWorkspace</span><span class="w"> </span><span class="s">&#39;br/public:avm/res/operational-insights/workspace:0.14.2&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Deploy-</span><span class="si">${</span><span class="nv">logAnalyticsWorkspaceName</span><span class="si">}</span><span class="s">&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nv">resourceGroup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">params</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">location</span><span class="p">:</span><span class="w"> </span><span class="nv">location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">skuName</span><span class="p">:</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceSkuName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">tags</span><span class="p">:</span><span class="w"> </span><span class="nv">tags</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">logAnalyticsWorkspace</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">logAnalyticsWorkspace</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">resourceId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">resourceGroupName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">resourceGroup</span><span class="p">.</span><span class="nv">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">resourceGroupId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">resourceGroup</span><span class="p">.</span><span class="nv">id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">subscriptionId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">subscription</span><span class="p">().</span><span class="nv">subscriptionId</span><span class="w">
</span></span></span></code></pre></div><h3 id="use-the-deployments-output-as-policy-assignment-parameters">Use the deployments output as policy assignment parameters<a hidden class="anchor" aria-hidden="true" href="#use-the-deployments-output-as-policy-assignment-parameters">#</a></h3>
<p>Now the interesting part! We can use the deployment name, that is defined in the PowerShell command used to deploy the template, to access this deployments outputs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="kd">targetScope</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;subscription&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="nv">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">@</span><span class="nf">description</span><span class="p">(</span><span class="s">&#39;The subscription ID where the Log Analytics Workspace is deployed. If not provided, the current subscription ID will be used. Override this value, if the workspace is in a different subscription.&#39;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceSubscriptionId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">subscription</span><span class="p">().</span><span class="nv">subscriptionId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">@</span><span class="nf">description</span><span class="p">(</span><span class="s">&#39;The name of the deployment that created the Log Analytics Workspace. The default value assumes the deployment name follows the pattern &#34;Deploy-LogAnalyticsWorkspace-$(location)&#34;.&#39;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceDeploymentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Deploy-LogAnalyticsWorkspace-</span><span class="si">${</span><span class="nv">location</span><span class="si">}</span><span class="s">&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">policyAssignmentDisplayName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;Configure Azure Activity logs to stream to specified Log Analytics workspace&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nv">policyDefinitionId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;/providers/Microsoft.Authorization/policyDefinitions/2465583e-4e78-4c15-b6be-a36cbc7c8b0f&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">resource</span><span class="w"> </span><span class="nv">existingLogAnalyticsDeployment</span><span class="w"> </span><span class="s">&#39;Microsoft.Resources/deployments@2021-04-01&#39;</span><span class="w"> </span><span class="kd">existing</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceDeploymentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nf">subscription</span><span class="p">(</span><span class="nv">logAnalyticsWorkspaceSubscriptionId</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">module</span><span class="w"> </span><span class="nv">assignPolicy</span><span class="w"> </span><span class="s">&#39;modules/policyAssignmentSubscriptionScope.bicep&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="nf">subscription</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">params</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">location</span><span class="p">:</span><span class="w"> </span><span class="nv">location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nf">guid</span><span class="p">(</span><span class="nf">subscription</span><span class="p">().</span><span class="nv">subscriptionId</span><span class="p">,</span><span class="w"> </span><span class="nv">policyDefinitionId</span><span class="p">,</span><span class="w"> </span><span class="nv">logAnalyticsWorkspaceDeploymentName</span><span class="p">,</span><span class="w"> </span><span class="nv">location</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">displayName</span><span class="p">:</span><span class="w"> </span><span class="nv">policyAssignmentDisplayName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">policyDefinitionId</span><span class="p">:</span><span class="w"> </span><span class="nv">policyDefinitionId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">parameters</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nv">logAnalytics</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="nv">existingLogAnalyticsDeployment</span><span class="p">.</span><span class="nv">properties</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">logAnalyticsWorkspaceId</span><span class="p">.</span><span class="nv">value</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">policyAssignmentId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">assignPolicy</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">policyAssignmentId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">policyAssignmentName</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">assignPolicy</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">policyAssignmentName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">output</span><span class="w"> </span><span class="nv">policyAssignmentPrincipalId</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">assignPolicy</span><span class="p">.</span><span class="nv">outputs</span><span class="p">.</span><span class="nv">policyAssignmentPrincipalId</span><span class="w">
</span></span></span></code></pre></div><h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>The ability to use the outputs of past deployments is a great feature that can come in very handy.</p>
<p>This example was very simple, but if you deploy a whole connectivity subscription with Bastion, Azure Firewall and VPN-Gateway, you may need lots of parameters with following deployments that have dependencies (like route tables that need the firewall private IP, spoke VNETs that need the hubs resource id, NSGs that need the bastion subnet range, etc.).</p>
<p>So instead of all those parameters, you only need two (the deployment name and subscription id) and can simply access the output values.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://azureblog.urdl.me/tags/bicep/">Bicep</a></li>
      <li><a href="https://azureblog.urdl.me/tags/infrastructure-as-code/">Infrastructure as Code</a></li>
      <li><a href="https://azureblog.urdl.me/tags/arm/">ARM</a></li>
    </ul>

<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Use outputs from past deployments with Bicep on x"
            href="https://x.com/intent/tweet/?text=Use%20outputs%20from%20past%20deployments%20with%20Bicep&amp;url=https%3a%2f%2fazureblog.urdl.me%2fposts%2fbicep-use-outputs-from-past-deployments%2f&amp;hashtags=Bicep%2cInfrastructureasCode%2cARM">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Use outputs from past deployments with Bicep on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fazureblog.urdl.me%2fposts%2fbicep-use-outputs-from-past-deployments%2f&amp;title=Use%20outputs%20from%20past%20deployments%20with%20Bicep&amp;summary=Use%20outputs%20from%20past%20deployments%20with%20Bicep&amp;source=https%3a%2f%2fazureblog.urdl.me%2fposts%2fbicep-use-outputs-from-past-deployments%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Use outputs from past deployments with Bicep on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fazureblog.urdl.me%2fposts%2fbicep-use-outputs-from-past-deployments%2f&title=Use%20outputs%20from%20past%20deployments%20with%20Bicep">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Use outputs from past deployments with Bicep on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fazureblog.urdl.me%2fposts%2fbicep-use-outputs-from-past-deployments%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://azureblog.urdl.me/">Azure - In Real Life</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

<footer>
    <script src="/js/copyCodeButton.js"></script>
</footer>
</html>
